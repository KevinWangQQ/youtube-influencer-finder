# YouTube 影响者搜索工具 - 产品需求文档 (PRD) v2.0

## 1. 产品概述

### 1.1 产品定位
YouTube 影响者自动搜索工具，帮助用户快速发现符合特定条件的优质影响者，提升营销推广和内容合作的效率。

### 1.2 目标用户
- 营销人员：寻找合适的KOL进行产品推广
- 内容创作者：寻找合作伙伴和灵感来源
- 代理公司：为客户匹配合适的影响者资源

### 1.3 核心价值
- **智能关键词扩展**：基于AI大模型自动扩展搜索关键词，提升搜索覆盖面
- **精准筛选**：多维度筛选条件，快速定位目标影响者
- **高效展示**：清晰的数据展示和多种排序方式
- **便捷导出**：一键导出搜索结果用于后续分析
- **纯前端架构**：无需后端服务，部署简单，隐私安全
- **本地存储**：API密钥和缓存数据仅存储在用户浏览器

## 2. 核心功能需求

### 2.1 智能主题搜索
**功能描述**：用户输入主题关键词，系统使用AI大模型自动扩展为多个相关关键词
- **输入**：用户自定义主题（如"健身"、"美食"、"科技评测"）
- **处理**：OpenAI API 扩展关键词列表
- **输出**：相关关键词组合用于YouTube搜索
- **搜索范围**：视频标题、描述、标签等元数据
- **相关性保证**：通过关键词匹配度和视频互动数据综合评估

### 2.2 影响者筛选条件
**功能描述**：用户可设置多维度筛选条件，精准定位目标影响者
- **地区筛选**：YouTube 频道地区（默认：美国）
- **订阅人数**：最低订阅人数阈值（如 >10K, >100K, >1M）
- **播放次数**：单视频或平均播放量要求
- **发布频率**：活跃度筛选（可选）
- **频道类型**：个人频道 vs 机构频道（可选）

### 2.3 搜索结果展示
**功能描述**：以清晰的列表形式展示搜索到的影响者信息
- **核心信息字段**：
  - 频道名称和头像
  - 订阅人数
  - 平均播放量
  - 最新视频发布时间
  - 频道地区
  - 关键视频标题
  - 相关性评分
- **排序功能**：
  - 按订阅人数排序
  - 按平均播放量排序
  - 按相关性评分排序
  - 按最近活跃度排序

### 2.4 数据导出功能
**功能描述**：将搜索结果导出为CSV文件供进一步分析
- **导出格式**：CSV 文件
- **包含字段**：所有展示的核心信息字段
- **文件命名**：自动生成带时间戳的文件名
- **下载方式**：浏览器直接下载

### 2.5 用户界面设计
**设计原则**：简洁时尚、性能高效
- **布局**：单页面应用，响应式设计
- **交互**：直观的搜索流程，最少点击次数
- **视觉**：现代化UI风格，清晰的信息层级
- **性能**：快速加载，流畅操作体验

## 3. 必要完善功能（MVP增强）

### 3.1 基础缓存机制
- **功能**：相同搜索条件的结果缓存30分钟，关键词扩展缓存24小时
- **目的**：减少API调用次数，提升响应速度，优化API配额使用
- **实现**：localStorage本地存储，无需外部缓存服务

### 3.2 错误处理
- **API错误**：YouTube API和OpenAI API调用失败的友好提示
- **网络错误**：网络连接问题的重试机制
- **输入验证**：用户输入的基础校验和提示

### 3.3 加载状态指示
- **搜索进度**：显示当前搜索进度（关键词扩展→YouTube搜索→数据处理）
- **加载动画**：优雅的加载指示器
- **时间预估**：预估完成时间提示

### 3.4 配置管理
- **API密钥管理**：本地localStorage存储，仅在用户浏览器中保存
- **配置界面**：内置设置模态框，支持API密钥配置
- **默认值**：合理的默认搜索参数
- **隐私保护**：密钥不传输到任何服务器，完全本地管理

### 3.5 基础日志
- **控制台日志**：浏览器控制台记录关键操作和错误信息
- **API调用日志**：本地记录API调用状态和响应时间
- **错误处理**：友好的用户错误提示和详细的调试信息

## 4. API集成规范

### 4.1 OpenAI API
- **用途**：关键词扩展
- **模型**：GPT-3.5-turbo 或 GPT-4（根据成本考虑）
- **Prompt设计**：确保输出相关且多样化的关键词
- **限制**：每次请求控制在合理token范围内

### 4.2 YouTube Data API v3
- **用途**：搜索视频和频道信息
- **配额管理**：控制每日API调用量
- **数据获取**：频道统计、视频元数据、频道详情
- **限制**：遵守YouTube API使用条款

## 5. 非功能性需求

### 5.1 性能要求
- **响应时间**：单次搜索不超过30秒
- **并发支持**：支持10个并发用户
- **缓存命中率**：目标30%以上

### 5.2 安全要求
- **API密钥保护**：本地localStorage存储，仅在用户浏览器中保存
- **输入安全**：前端输入验证和API调用安全处理
- **数据隐私**：无服务器端数据存储，完全客户端处理
- **CORS安全**：直接调用支持CORS的API服务

### 5.3 兼容性要求
- **浏览器支持**：Chrome、Firefox、Safari、Edge最新版本
- **设备支持**：桌面端优先，移动端友好

## 6. 版本规划

### 6.1 v1.0版本（已完成）
- 全栈架构（React前端 + Node.js后端）
- 服务器端缓存和API管理
- 完整的核心功能实现

### 6.2 v2.0版本（当前版本）
- **纯前端架构**：移除后端依赖，简化部署
- **直接API调用**：前端直接调用OpenAI和YouTube API
- **本地缓存**：localStorage实现缓存机制
- **静态部署**：支持Vercel、Netlify、GitHub Pages等静态托管
- **增强隐私**：API密钥本地存储，无服务器数据传输

### 6.3 未来版本预留
- 多平台支持（TikTok、Instagram）
- 高级分析功能（趋势分析、竞品对比）
- 用户账户和历史记录
- 批量处理和定时任务
- 更丰富的筛选条件

## 7. 风险评估

### 7.1 技术风险
- **API限制**：YouTube API配额限制可能影响大量搜索
- **AI准确性**：关键词扩展结果的相关性可能不稳定
- **数据质量**：YouTube数据获取的完整性和实时性
- **CORS限制**：第三方API的跨域访问策略变更
- **浏览器兼容性**：localStorage和现代JavaScript特性的兼容性

### 7.2 成本风险
- **API费用**：OpenAI和YouTube API调用成本需要控制
- **扩展成本**：用户增长带来的基础设施成本

### 7.3 合规风险
- **API条款**：严格遵守YouTube和OpenAI的使用条款
- **数据使用**：确保数据使用符合相关法律法规

## 8. 成功指标

- **功能完整性**：所有核心功能正常运行
- **搜索准确性**：搜索结果相关性>80%
- **用户体验**：搜索完成时间<30秒
- **系统稳定性**：错误率<5%
- **部署简易性**：一键静态部署，无服务器配置
- **隐私保护**：用户数据完全本地化处理

## 9. v2.0架构变更说明

### 9.1 主要变更
1. **架构简化**：从全栈架构重构为纯前端单页应用
2. **部署优化**：从需要服务器部署改为静态托管
3. **安全增强**：API密钥从服务器端管理改为用户本地管理
4. **成本降低**：消除服务器运维成本，仅产生API调用费用

### 9.2 技术栈更新
- **前端**：React 18 + TypeScript + Vite
- **样式**：自定义CSS工具类（替代Tailwind避免构建复杂性）
- **状态管理**：React内置状态 + localStorage
- **API调用**：fetch + 直接调用第三方API
- **缓存**：localStorage本地缓存
- **部署**：Vercel、Netlify、GitHub Pages等静态托管

### 9.3 用户体验改进
- **设置便捷性**：内置设置模态框，一次配置永久使用
- **隐私保护**：API密钥仅存储在用户浏览器，不经过任何服务器
- **响应速度**：本地缓存机制，重复搜索瞬间响应
- **部署便利**：用户可以fork项目自己部署，完全控制数据